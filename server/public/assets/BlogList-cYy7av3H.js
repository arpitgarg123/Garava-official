import{j as e,b6 as C,L as F,cS as S,cT as B,u as y,a as d,cU as P,cV as k,cW as A,cX as L,cY as v,r as m,cZ as p,al as V,c_ as E,c$ as T,d0 as g,d1 as $,b as R,h as U,B as D,P as J}from"./index-CKwcYcCo.js";const G=({blog:s})=>{var a,r;const n=()=>{var o;return(o=s.coverImage)!=null&&o.url?s.coverImage.url:"https://via.placeholder.com/600x400?text=Blog+Image"};return e.jsxs("div",{className:"blog-card bg-gray-50  overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n(),alt:((a=s.coverImage)==null?void 0:a.alt)||s.title,className:"w-full h-56 object-cover"}),s.category&&e.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 text-white text-xs px-3 py-1 rounded-full",children:s.category})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between text-gray-500 text-sm mb-2",children:[e.jsx("span",{children:((r=s.author)==null?void 0:r.name)||"Garava"}),e.jsx("span",{children:C(s.publishAt||s.createdAt)})]}),e.jsx("h3",{className:"blog-title text-lg font-semibold text-gray-800 mb-2",children:s.title}),e.jsx("p",{className:"blog-desc text-gray-600 text-sm mb-4",children:s.excerpt||s.description||"No description available"}),e.jsxs("div",{className:"flex items-center justify-between ",children:[e.jsx(F,{to:`/blogs/${s.slug}`,children:e.jsx("button",{className:"blog-btn",children:"Continue reading"})}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[e.jsx(S,{className:"cursor-pointer hover:text-blue-600"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(B,{}),e.jsx("span",{children:s.comments||0})]})]})]})]})]})},H=({showHeader:s=!0,limit:n=12})=>{const a=y(),r=d(P),o=d(k),c=d(A),x=d(L),i=d(v),[u,h]=m.useState(i.search),[l,b]=m.useState(!1);m.useEffect(()=>{a(p({...i,limit:n}))},[a,i,n]);const f=t=>{t.preventDefault(),a(g({search:u}))},j=t=>{a(g(t))},N=t=>{a($(t)),a(p({...i,page:t,limit:n}))},w=()=>{h(""),a(g({search:"",category:"",tag:"",sort:"newest"}))};return o&&r.length===0?e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):c?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-600 mb-4",children:["Error: ",c]}),e.jsx("button",{onClick:()=>a(p({...i,limit:n})),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Try Again"})]}):e.jsxs("div",{className:"w-full",children:[s&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"mb-3",children:[e.jsxs("form",{onSubmit:f,className:"flex gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search blogs...",value:u,onChange:t=>h(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg outline-none  "})]}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Search"}),e.jsxs("button",{type:"button",onClick:()=>b(!l),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(E,{}),"Filters"]})]}),l&&e.jsx("div",{className:"border-t pt-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:i.category,onChange:t=>j({category:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"Jewelry",children:"Jewelry"}),e.jsx("option",{value:"Fragrance",children:"Fragrance"}),e.jsx("option",{value:"Lifestyle",children:"Lifestyle"}),e.jsx("option",{value:"Tips",children:"Tips"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),e.jsxs("select",{value:i.sort,onChange:t=>j({sort:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"views",children:"Most Viewed"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:w,className:"w-full px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Clear Filters"})})]})})]})}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-500 text-lg mb-4",children:"No blogs found"}),e.jsx("p",{className:"text-gray-400",children:"Try adjusting your search criteria"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:r.map(t=>e.jsx(G,{blog:t},t._id))}),x.totalPages>1&&e.jsx("div",{className:"mt-12 flex justify-center",children:e.jsx(T,{currentPage:x.page,totalPages:x.totalPages,onPageChange:N})})]}),o&&r.length>0&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-lg p-3",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"})})]})},_=()=>{const s=R(),n=U(),a=y(),r=d(v),c=new URLSearchParams(s.search).get("category"),[x,i]=m.useState(c||"all"),u=[{id:"all",label:"All Blogs",value:""},{id:"jewellery",label:"Jewellery",value:"jewellery"},{id:"fragrance",label:"Fragrance",value:"fragrance"},{id:"garava",label:"GARAVA",value:"garava"}];m.useEffect(()=>{c&&c!==r.category?(a(g({...r,category:c==="all"?"":c})),i(c)):!c&&r.category&&(a(g({...r,category:""})),i("all"))},[c,a,r]);const h=l=>{i(l),a(g({...r,category:l==="all"?"":l})),l==="all"?n("/blogs",{replace:!0}):n(`/blogs?category=${l}`,{replace:!0})};return e.jsx("div",{className:"min-h-screen mt-20 max-sm:mt-0 max-md:mt-0",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 max-sm:py-0 max-md:py-0",children:[e.jsx("div",{className:"sticky top-34 z-10 mb-3 max-sm:top-20 max-md:top-18",children:e.jsx(D,{})}),e.jsx(J,{title:"Blogs"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:u.map(l=>e.jsx("button",{onClick:()=>h(l.id),className:`px-6 py-2 rounded-full cursor-pointer max-sm:m-2 transition-all duration-300 uppercase tracking-wider text-sm font-medium ${x===l.id?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:l.label},l.id))}),e.jsx(H,{showHeader:!1,limit:12})]})})};export{_ as default};
