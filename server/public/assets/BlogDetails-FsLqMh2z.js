import{c as y,h as w,u as B,a as u,d2 as k,cV as E,cW as I,r as m,d3 as S,d4 as z,j as e,B as d,b6 as C}from"./index-CKwcYcCo.js";import{S as L}from"./ShareButton-DVDdfgSO.js";function M(t){const[c,r]=m.useState(0);return m.useEffect(()=>{const s=()=>{const a=t.current;if(!a)return;const n=a.scrollHeight-a.clientHeight,i=a.scrollTop,x=n>0?Math.min(100,Math.max(0,i/n*100)):0;r(x)},l=t.current;if(l)return l.addEventListener("scroll",s,{passive:!0}),()=>l.removeEventListener("scroll",s)},[t]),c}function U(){var h,g,p,v,j,f;const{slug:t}=y(),c=w(),r=B(),s=u(k),l=u(E),a=u(I),n=m.useRef(null),i=M(n),x=typeof window<"u"?window.location.href:"https://example.com/blog/post";m.useEffect(()=>(t&&r(S(t)),()=>{r(z())}),[r,t]);const b=()=>{var o;return(o=s==null?void 0:s.coverImage)!=null&&o.url?s.coverImage.url:"https://via.placeholder.com/1200x600?text=Blog+Image"};return l?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"sticky top-0 z-10 mb-3 pt-20",children:e.jsx(d,{})}),e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})})]}):a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"sticky top-0 z-10 mb-3 pt-20",children:e.jsx(d,{})}),e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-600 mb-4",children:["Error: ",a]}),e.jsx("button",{onClick:()=>c("/blogs"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Blogs"})]})]}):s?e.jsxs("div",{className:"relative min-h-[100dvh] mt-20 bg-background text-foreground",children:[e.jsx("div",{className:"sticky top-35 z-10 mb-3",children:e.jsx(d,{})}),e.jsx("div",{className:"sticky top-0 z-30 h-1 w-full bg-gray-200",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(i),children:e.jsx("div",{className:"h-full bg-black transition-[width] duration-150",style:{width:`${i}%`}})}),e.jsx("div",{className:"mx-auto w-full max-w-7xl px-4 py-8 md:px-6 lg:gap-10",children:e.jsxs("article",{ref:n,className:"",children:[e.jsxs("header",{className:"p-5 sm:p-8",children:[e.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-3",children:[s.category&&e.jsx("span",{className:"rounded-xl bg-black text-white px-3 py-1 text-sm font-medium",children:s.category}),s.readingTime&&e.jsxs("span",{className:"text-xs flex-center",children:[" ● ",s.readingTime," min read"]})]}),e.jsx("h1",{className:"text-balance text-3xl font-semibold leading-tight sm:text-4xl",children:s.title}),e.jsxs("div",{className:"mt-5 flex items-center gap-3",children:[e.jsx("img",{src:((h=s.author)==null?void 0:h.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((g=s.author)==null?void 0:g.name)||"G")}&background=random`,alt:((p=s.author)==null?void 0:p.name)||"Garava",className:"h-9 w-9 rounded-full object-cover ring-1 ring-gray-300",loading:"lazy"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium",children:["Posted by ",((v=s.author)==null?void 0:v.name)||"Garava"]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Updated ",C(s.publishAt||s.createdAt)]})]})]})]}),e.jsx("figure",{className:"mx-5 overflow-hidden rounded-xl sm:mx-8",children:e.jsx("img",{src:b(),alt:((j=s.coverImage)==null?void 0:j.alt)||s.title,className:"aspect-[16/9] w-full rounded-xl object-cover",loading:"eager"})}),e.jsx("section",{className:"prose prose-neutral mx-auto max-w-none px-5 py-8 dark:prose-invert prose-headings:scroll-mt-24 prose-a:underline-offset-4 prose-img:rounded-xl",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:s.content}})}),e.jsxs("div",{className:"border-t px-5 py-6 sm:px-8",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold",children:"Share this article"}),e.jsx(L,{title:s.title,url:x})]}),((f=s.tags)==null?void 0:f.length)>0&&e.jsx("div",{className:"flex flex-wrap items-center gap-2 border-t px-5 py-6 sm:px-8",children:s.tags.map((o,N)=>e.jsxs("span",{className:"rounded-full border px-3 py-1 text-xs text-gray-600",children:["#",o]},N))})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"sticky top-0 z-10 mb-3 pt-20",children:e.jsx(d,{})}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-500 text-lg mb-4",children:"Blog not found"}),e.jsx("button",{onClick:()=>c("/blogs"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Blogs"})]})]})}export{U as default};
